<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="3. Criação do index" href="criacao_index.html" /><link rel="prev" title="1. Preparação do material necessário" href="preparacao_material.html" />

    <meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>2. Criação dos mapas - Evolução da COVID-19 em Portugal Continental</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Evolução da COVID-19 em Portugal Continental</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Evolução da COVID-19 em Portugal Continental</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="preparacao_material.html">1. Preparação do material necessário</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">2. Criação dos mapas</a></li>
<li class="toctree-l1"><a class="reference internal" href="criacao_index.html">3. Criação do <em>index</em></a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="criacao-dos-mapas">
<span id="criacao-mapas"></span><h1>2. Criação dos mapas<a class="headerlink" href="#criacao-dos-mapas" title="Permalink to this headline">¶</a></h1>
<p>De modo a ser possível partilhar na Internet, e de forma interativa, os dados georreferenciados <a class="reference internal" href="preparacao_material.html#georrefenciacao-dados"><span class="std std-ref">no passo anterior</span></a> (<code class="docutils literal notranslate"><span class="pre">covid_2020.geojson</span></code>), foram criados quatro ficheiros HTML correspondentes a cada mês em estudo (<code class="docutils literal notranslate"><span class="pre">set.html</span></code>, <code class="docutils literal notranslate"><span class="pre">out.html</span></code>, <code class="docutils literal notranslate"><span class="pre">nov.html</span></code> e <code class="docutils literal notranslate"><span class="pre">dez.html</span></code>), com recurso ao <a class="reference external" href="https://leafletjs.com/">Leaflet</a>, uma biblioteca <em>open-source</em> de mapas, em linguagem JavaScript.</p>
<p>Como código-base dos mapas, foi utilizado o HTML relativo ao tutorial do Leaflet <a class="reference external" href="https://leafletjs.com/examples/choropleth/">para criar um mapa coroplético interativo</a>.</p>
<div class="section" id="importar-geojson">
<h2>2.1. Importar GeoJSON<a class="headerlink" href="#importar-geojson" title="Permalink to this headline">¶</a></h2>
<p>Antes da importação do GeoJSON para cada HTML, foi necessário efetuar uma alteração no mesmo, de modo a ser reconhecido pelo Leaflet. Para tal, e com recurso a um editor de texto, a primeira linha foi substituida pelo seguinte código:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span>data = {
</pre></div>
</div>
<p>Posteriormente, foi importado o GeoJSON, e respetivas <em>features</em>, para cada HTML.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">src</span><span class="o">=</span><span class="s2">"data/covid_2020.geojson"</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">geojson</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">geoJson</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">style</span><span class="o">:</span> <span class="nx">style</span><span class="p">,</span>
    <span class="nx">onEachFeature</span><span class="o">:</span> <span class="nx">onEachFeature</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
<p>No caso de um ficheiro em formato GeoJSON, o navegador <em>web</em> irá imediatamente fazer <em>download</em> de toda a informação, desenhando o contorno da geometria consoante o <em>zoom</em> efetuado; aliado ao facto de ser um ficheiro em formato de texto, são as principais vantagens da utilização de um GeoJSON, em prol da utilização de um serviço WMS, por exemplo.</p>
</div>
<div class="section" id="adicionar-mapa-de-base">
<h2>2.2. Adicionar mapa de base<a class="headerlink" href="#adicionar-mapa-de-base" title="Permalink to this headline">¶</a></h2>
<p>De forma a espacializar a área em estudo e visualizar os territórios vizinhos, foi adicionado um mapa de base; neste caso, da ESRI.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">'https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">attribution</span><span class="o">:</span> <span class="s1">'Tiles &amp;copy; Esri &amp;mdash; Esri, DeLorme, NAVTEQ'</span><span class="p">,</span>
    <span class="nx">maxZoom</span><span class="o">:</span><span class="mf">16</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="definir-fronteiras-centro-e-zoom-do-mapa">
<h2>2.3. Definir fronteiras, centro e <em>zoom</em> do mapa<a class="headerlink" href="#definir-fronteiras-centro-e-zoom-do-mapa" title="Permalink to this headline">¶</a></h2>
<p>Como os dados são relativos apenas a Portugal Continental, podem ser definidas fronteiras no mapa, restringindo a visualização do mapa pela área que é definida. Para tal, recorreu-se ao seguinte código:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">northWest</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">latLng</span><span class="p">(</span><span class="mf">42.278</span><span class="p">,</span><span class="o">-</span><span class="mf">13.082</span><span class="p">),</span>
    <span class="nx">southEast</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">latLng</span><span class="p">(</span><span class="mf">36.824</span><span class="p">,</span><span class="o">-</span><span class="mf">2.665</span><span class="p">),</span>
    <span class="nx">maxBoundArea</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">latLngBounds</span><span class="p">(</span><span class="nx">northWest</span><span class="p">,</span> <span class="nx">southEast</span><span class="p">);</span>
</pre></div>
</div>
<p>onde a área de fronteira (variável <code class="docutils literal notranslate"><span class="pre">maxBoundArea</span></code>) corresponde ao ponto definido a noroeste e a sudeste. Sucessivamente, foi adicionada a restrição ao mapa.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">'map'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">center</span><span class="o">:</span> <span class="p">[</span><span class="mf">39.414020619</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.075006228</span><span class="p">],</span>
    <span class="nx">zoom</span><span class="o">:</span> <span class="mf">6</span><span class="p">,</span>
    <span class="nx">maxBounds</span><span class="o">:</span> <span class="nx">maxBoundArea</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Aqui, foram também definidas as coordenadas referentes ao centro do mapa (neste caso, corresponde ao Centro Geodésico de Portugal), e o <em>zoom</em> pré-definido (neste caso, de acordo com o tamanho definido para cada mapa no <a class="reference internal" href="criacao_index.html#criacao-index"><span class="std std-ref">index</span></a>, e de modo a ser possível visualizar imediatamente toda a informação, definiu-se o <em>zoom</em> a nível 6, numa escala de 1 [maior <em>zoom</em>] a 16 [menor <em>zoom</em>]).</p>
</div>
<div class="section" id="definir-classes">
<span id="classes"></span><h2>2.4. Definir classes<a class="headerlink" href="#definir-classes" title="Permalink to this headline">¶</a></h2>
<p>As classes foram definidas de acordo com o critério do Centro Europeu de Prevenção e Controlo de Doenças (ECDC), para classificar as áreas consoante a taxa de incidência de COVID-19. Contudo, esse critério tem em consideração o cálculo da taxa de incidência por 100 mil habitantes, em vez de 10 mil habitantes, conforme foi considerado na análise elaborada neste trabalho. Para adaptar o critério a 10 mil habitantes, dividiu-se o limite de cada classe do critério ECDC por 10.</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 31%"/>
<col style="width: 30%"/>
<col style="width: 39%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Critério ECDC
(casos por 100 mil hab.)</p></th>
<th class="head"><p>Critério ECDC adaptado
(casos por 10 mil hab.)</p></th>
<th class="head"><p>Designação do risco</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&gt; 960</p></td>
<td><p>&gt; 96</p></td>
<td><p>Extremamente Elevado</p></td>
</tr>
<tr class="row-odd"><td><p>480 - 960</p></td>
<td><p>48 - 96</p></td>
<td><p>Muito Elevado</p></td>
</tr>
<tr class="row-even"><td><p>240 - 480</p></td>
<td><p>24 - 48</p></td>
<td><p>Elevado</p></td>
</tr>
<tr class="row-odd"><td><p>120 - 240</p></td>
<td><p>12 -24</p></td>
<td><p>Moderado</p></td>
</tr>
<tr class="row-even"><td><p>&lt; 120</p></td>
<td><p>&lt; 12</p></td>
<td><p>Baixo a Moderado</p></td>
</tr>
</tbody>
</table></div>
<p class="centered">
<strong><em>Tabela 2:</em> Classes de risco de incidência de COVID-19, em cada critério.</strong></p><p>De seguida, foi atribuída uma cor consoante o intervalo de valores definido, numa escala de amarelo a vermelho; à ausência de valor, foi atribuída a cor cinzenta.</p>
<div class="highlight-javascript notranslate" id="cor-classes"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">getColor</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">value</span> <span class="o">&gt;</span> <span class="mf">96</span> <span class="o">?</span> <span class="s1">'#bd0026'</span> <span class="o">:</span>
            <span class="nx">value</span> <span class="o">&gt;</span> <span class="mf">48</span>  <span class="o">?</span> <span class="s1">'#f03b20'</span> <span class="o">:</span>
            <span class="nx">value</span> <span class="o">&gt;</span> <span class="mf">24</span>  <span class="o">?</span> <span class="s1">'#fd8d3c'</span> <span class="o">:</span>
            <span class="nx">value</span> <span class="o">&gt;</span> <span class="mf">12</span>  <span class="o">?</span> <span class="s1">'#fecc5c'</span> <span class="o">:</span>
            <span class="nx">value</span> <span class="o">&gt;</span> <span class="mf">0</span>   <span class="o">?</span> <span class="s1">'#ffffb2'</span> <span class="o">:</span>
                        <span class="s1">'#e6e6e6'</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="editar-estilo-das-features">
<h2>2.5. Editar estilo das <em>features</em><a class="headerlink" href="#editar-estilo-das-features" title="Permalink to this headline">¶</a></h2>
<p>Posteriormente, foi alterado o estilo de todos os distritos, relativamente ao contorno e preenchimento dos mesmos:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">style</span><span class="p">(</span><span class="nx">feature</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">weight</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
        <span class="nx">opacity</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s1">'#333335'</span><span class="p">,</span>
        <span class="nx">dashArray</span><span class="o">:</span> <span class="s1">'3'</span><span class="p">,</span>
        <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
        <span class="nx">fillColor</span><span class="o">:</span> <span class="nx">getColor</span><span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">casos10k_s</span><span class="p">)</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>onde a cor preenchida corresponde a uma das definidas no <a class="reference internal" href="#cor-classes"><span class="std std-ref">passo anterior</span></a>, tendo como base os valores da coluna escolhida (no exemplo, corresponde à coluna do número de casos de COVID-19 em setembro de 2020, por 10 mil habitantes; <a class="reference internal" href="preparacao_material.html#colunas"><span class="std std-ref">ver as outras colunas</span></a>).</p>
<p>Também foi alterado o estilo de todos os distritos, relativamente ao contorno e preenchimento dos mesmos, quando um deles é selecionado.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">highlightFeature</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">layer</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>

    <span class="nx">layer</span><span class="p">.</span><span class="nx">setStyle</span><span class="p">({</span>
        <span class="nx">weight</span><span class="o">:</span> <span class="mf">4</span><span class="p">,</span>
        <span class="nx">color</span><span class="o">:</span> <span class="s1">'#838383'</span><span class="p">,</span>
        <span class="nx">dashArray</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span>
        <span class="nx">fillOpacity</span><span class="o">:</span> <span class="mf">1</span>
    <span class="p">});</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">L</span><span class="p">.</span><span class="nx">Browser</span><span class="p">.</span><span class="nx">ie</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">L</span><span class="p">.</span><span class="nx">Browser</span><span class="p">.</span><span class="nx">opera</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">L</span><span class="p">.</span><span class="nx">Browser</span><span class="p">.</span><span class="nx">edge</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">layer</span><span class="p">.</span><span class="nx">bringToFront</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">info</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">layer</span><span class="p">.</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Neste caso, e comparando com o estilo de cada distrito quando não se encontra selecionado, o contorno perde o tracejado, ganha maior espessura, e o cinzento torna-se mais intenso.</p>
</div>
<div class="section" id="editar-estilo-das-legendas">
<h2>2.6. Editar estilo das legendas<a class="headerlink" href="#editar-estilo-das-legendas" title="Permalink to this headline">¶</a></h2>
<p>Em cada mapa, estão representadas duas legendas à direita: uma na parte superior, contendo o título do mapa e a informação em cada distrito, e uma na parte inferior, contendo as classes do mapa.</p>
<p>No caso da primeira, o código é o seguinte:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">info</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">_div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;h4&gt;Taxa de incidência COVID-19&lt;br&gt;(setembro de 2020)&lt;/h4&gt;'</span> <span class="o">+</span>  <span class="p">(</span><span class="nx">props</span> <span class="o">?</span>
                    <span class="s1">'&lt;b&gt;'</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">Distrito</span> <span class="o">+</span> <span class="s1">'&lt;/b&gt;&lt;br /&gt;'</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">casos10k_s</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' casos / 10 mil habitantes'</span>
                    <span class="o">:</span> <span class="s1">'Selecionar um distrito'</span><span class="p">);</span>
    <span class="p">};</span>
</pre></div>
</div>
<p>onde, sem um distrito selecionado, a informação a aparecer é o título, seguida da mensagem ‘Selecionar um distrito’; com um distrito selecionado, a informação a aparecer é o título, o nome do distrito, o respetivo número de casos por 10 mil habitantes, arredondado a uma casa decimal (no exemplo acima, para setembro), seguido do texto ‘ casos / 10 mil habitantes’.</p>
<p>No caso da segunda, o código é o seguinte:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nx">DomUtil</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">'div'</span><span class="p">,</span> <span class="s1">'info legend'</span><span class="p">),</span>
            <span class="nx">grades</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0</span><span class="p">,</span> <span class="mf">12</span><span class="p">,</span> <span class="mf">24</span><span class="p">,</span> <span class="mf">48</span><span class="p">,</span> <span class="mf">96</span><span class="p">],</span>
            <span class="nx">labels</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="nx">from</span><span class="p">,</span> <span class="nx">to</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">grades</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">from</span> <span class="o">=</span> <span class="nx">grades</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="nx">to</span> <span class="o">=</span> <span class="nx">grades</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mf">1</span><span class="p">];</span>

            <span class="nx">labels</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
                    <span class="s1">'&lt;i style="background:'</span> <span class="o">+</span> <span class="nx">getColor</span><span class="p">(</span><span class="nx">from</span> <span class="o">+</span> <span class="mf">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'"&gt;&lt;/i&gt; '</span> <span class="o">+</span>
                    <span class="nx">from</span> <span class="o">+</span> <span class="p">(</span><span class="nx">to</span> <span class="o">?</span> <span class="s1">' &amp;ndash; '</span> <span class="o">+</span> <span class="nx">to</span> <span class="o">:</span> <span class="s1">' &lt;'</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">div</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;h5&gt;Casos por 10 mil habitantes&lt;/h5&gt;'</span> <span class="o">+</span> <span class="nx">labels</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'&lt;br&gt;'</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">div</span><span class="p">;</span>
</pre></div>
</div>
<p>onde foi definido o título ‘Casos por 10 mil habitantes’, as classes <a class="reference internal" href="#classes"><span class="std std-ref">referidas anteriormente</span></a>, a função com as cores de cada classe <a class="reference internal" href="#cor-classes"><span class="std std-ref">atribuídas anteriormente</span></a>, e a forma como a legenda é estruturada.</p>
</div>
<div class="section" id="adicionar-fonte-dos-dados-nos-mapas">
<h2>2.7. Adicionar fonte dos dados nos mapas<a class="headerlink" href="#adicionar-fonte-dos-dados-nos-mapas" title="Permalink to this headline">¶</a></h2>
<p>Por último, foi adicionada a fonte da informação representada nos mapas; neste caso, o número de casos de COVID-19 por distrito, a população residente em Portugal Continental, no ano de 2018, por distrito, e os limites administratidos dos distritos em Portugal Continental, no ano de 2020.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">map</span><span class="p">.</span><span class="nx">attributionControl</span><span class="p">.</span><span class="nx">addAttribution</span><span class="p">(</span><span class="s1">'Número de casos &amp;copy; &lt;a href="https://covid19.min-saude.pt/"&gt;DGS&lt;/a&gt;'</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">attributionControl</span><span class="p">.</span><span class="nx">addAttribution</span><span class="p">(</span><span class="s1">'População residente &amp;copy; &lt;a href="https://www.ine.pt/"&gt;INE&lt;/a&gt;'</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">attributionControl</span><span class="p">.</span><span class="nx">addAttribution</span><span class="p">(</span><span class="s1">'Limites dos distritos &amp;copy; &lt;a href="https://www.dgterritorio.gov.pt/cartografia/cartografia-tematica/caop"&gt;DGT&lt;/a&gt;'</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="criacao_index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">3. Criação do <em>index</em></div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="preparacao_material.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">1. Preparação do material necessário</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Carolina Pais &amp; João Reis
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/criacao_mapas.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">2. Criação dos mapas</a><ul>
<li><a class="reference internal" href="#importar-geojson">2.1. Importar GeoJSON</a></li>
<li><a class="reference internal" href="#adicionar-mapa-de-base">2.2. Adicionar mapa de base</a></li>
<li><a class="reference internal" href="#definir-fronteiras-centro-e-zoom-do-mapa">2.3. Definir fronteiras, centro e <em>zoom</em> do mapa</a></li>
<li><a class="reference internal" href="#definir-classes">2.4. Definir classes</a></li>
<li><a class="reference internal" href="#editar-estilo-das-features">2.5. Editar estilo das <em>features</em></a></li>
<li><a class="reference internal" href="#editar-estilo-das-legendas">2.6. Editar estilo das legendas</a></li>
<li><a class="reference internal" href="#adicionar-fonte-dos-dados-nos-mapas">2.7. Adicionar fonte dos dados nos mapas</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>